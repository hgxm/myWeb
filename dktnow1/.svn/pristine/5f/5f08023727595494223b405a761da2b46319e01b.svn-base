<include file="../Public/header_main" />

<load file="__PUBLIC__/Css/Ilc/system_add.css"/>
<load file="__PUBLIC__/Css/Ilc/resource_index.css"/>
<script type="text/javascript">

    $(function(){

        $(".checkall").click(function(){
            $(".groupAppId").each(function(){
                $(this).prop('checked', true);
            })
        });

        $(".checkoff").click(function(){
            $(".groupAppId").each(function(){
                $(this).prop('checked', false);

            })
        });

        $(".uncheck").click(function(){
            $(".groupAppId").each(function(){
               $(this).prop('checked', !Boolean($(this).prop('checked')));
            })
        });
    });

</script>
<div class="title_hea">
    应用授权
    <a href="__URL__/">返回列表</a>
</div>
<form method="post" action="__URL__/setApp/">
    <ul class="add_option">
        <li  class="roleRight">
            <label></label>
            <a href="__URL__/app/groupId/{$Think.get.groupId}">应用授权</a> | <a href="__URL__/module/groupId/{$Think.get.groupId}">模块授权</a> | <a href="__URL__/action/groupId/{$Think.get.groupId}">操作授权</a>

        </li>
        <li>
            <label>当前组：</label>
            <select class="medium" onchange="location.href='?groupId='+this.options[this.selectedIndex].value;" name="groupId" >
                <option value="">选择组</option>
                <volist name="roleList" id="role" key="k">
                    <option value="{$k}" <eq name="selectGroupId" value="$k">selected</eq>>{$role}</option>
                </volist>
            </select>
        </li>
        <div class="cache_select">
            <ul>
                <volist name="appList" id="user">
                    <li>
                        <span>
                            <input name="groupAppId[]" class="groupAppId" id="sourceS" type="checkbox" value="{$key}" <in name="key" value="$groupAppList">checked</in> />
                        </span>
                        <span>{$user}</span>
                    </li>
                </volist>
            </ul>
        </div>
        <div class="tools cache_tools fl">
            <span class="checkall">
                <i></i>
                全选
            </span>
            <span class="uncheck">
                <i></i>
                反选
            </span>
            <span class="checkoff">
                <i></i>
                全否
            </span>
        </div>

        <li class="coBtn">
            <button class="save fin" value="" type="submit">保存</button>

        </li>
    </ul>
</form>


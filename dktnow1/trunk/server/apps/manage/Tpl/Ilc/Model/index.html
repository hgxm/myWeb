<include file="../Public/header_main" />
<load file="__PUBLIC__/Css/Ilc/resource_index.css"/>
<script type="text/javascript">
$(function(){
 var listObj = {"data_check": "2%","data_id": "8%" ,"data_name": "20%","data_explain": "14%","data_default": "14%","data_sort": "12%","data_status": "12%","data_hand": "10%","data_edit": "4%","data_child": "8%"};
 setWidth(listObj);
})

    //生成缓存表
    function createCache(id) {
        var keyValue;
        if (id) {
            keyValue = id;
        } else {
            keyValue = getSelectCheckboxValues();
        }
        if (!keyValue) {
            alert('请选择生成项');
            return false;
        }

        if (window.confirm('确定生成缓存表吗？')) {
            location.href =  URL+"/createCache/id/"+keyValue;
        }
    }

    // 同步数据
    function sync(id) {
        var keyValue;
        if (id) {
            keyValue = id;
        } else {
            keyValue = getSelectCheckboxValues();
        }
        if (!keyValue) {
            alert('请选择要同步数据的类型');
            return false;
        }

        if (window.confirm('确定要同步数据吗？')) {
            location.href =  URL+"/sync/id/"+keyValue;
        }
    }
</script>
    <form name="form" method="post" action="__URL__/index">
        <div class="model_search">
            <a>名称：</a>
            <input TYPE="text" title="名称查询" name="m_name" >
            <a class="search">搜索</a>
        </div>
    </form>
    <div class="tools fl">
        <a class="add">
            <i></i>
            新增
        </a>
        <a class="edit">
            <i></i>
            编辑
        </a>
        <a class="del">
            <i></i>
            删除
        </a>
        <a class="forbidden">
            <i></i>
            禁用
        </a>
        <a class="resume">
            <i></i>
            启用
        </a>
        <a onclick="sync();">
            <i></i>
            同步
        </a>
        <a onclick="createCache();">
            <i></i>
            缓存
        </a>

    </div>
    <div id="system_list">
        <div>
            <ul class="list_hea">
                <li>
                    <input class="data_check" type="checkbox" name="allcheck" onclick="CheckAll('system_list')"/>
                    <span class="data_id">编号</span>
                    <span class="data_name">名称</span>
                    <span class="data_explain">说明</span>
                    <span class="data_default">属性列表</span>
                    <span class="data_status">状态</span>
                    <span class="data_hand">操作</span>
                </li>
            </ul>
        </div>
        <div>
            <ul class="list_list list_hea" id="list_main">

                <volist name="list" id="list">
                    <li>
                        <input class="data_check" type="checkbox" value="{$list.m_id}" name="key"/>
                        <span class="data_id">{$list.m_id}</span>
                        <span class="data_name">{$list.m_name}</span>
                        <span class="data_explain">{$list.m_title}</span>
                        <span class="data_default">{$list.m_list}</span>
                        <span class="data_status">{$list.m_status|getStatus}</span>
                        <span class="data_hand">{$list.m_status|showStatus=$list['m_id']}</span>
                    </li>
                </volist>

            </ul>

        </div>
        <div class="page">
            {$page}
        </div>
    </div>

//
//  histogramView.m
//  JiChang
//
//  Created by bjzhct on 11-10-20.
//  Copyright 2011 __MyCompanyName__. All rights reserved.
//

#import "histogramView.h"


@implementation histogramView
@synthesize count;

- (id)initWithFrame:(CGRect)frame {
    
    self = [super initWithFrame:frame];
    if (self) {
        tempRect=self.frame;
		//self.frame=CGRectMake(self.frame.origin.x, self.frame.origin.y+self.frame.size.height, self.frame.size.width, 0);
		self.layer.borderColor = [UIColor blackColor].CGColor;
		self.layer.borderWidth = 1.0; 
		
		[self performSelector:@selector(drawBackView) withObject:nil afterDelay:0.5];
    }
    return self;
}


-(void)drawBackView{
	
	

	
	if (count) {
		
		CGFloat fh=[count floatValue]*self.frame.size.height;

		
		UIView *backView=[[UIView alloc]initWithFrame:CGRectMake(1, self.frame.size.height, 18, 0)];
		backView.backgroundColor=[UIColor colorWithRed:109.0/255 green:173.0/255 blue:91.0/255 alpha:1];
		[self addSubview:backView];
		
		[UIView beginAnimations:nil context:NULL];
		[UIView setAnimationDuration:0.3];
		[UIView setAnimationCurve:UIViewAnimationCurveEaseIn];
		backView.frame=CGRectMake(1, self.frame.size.height-fh, 18, fh);
		[UIView commitAnimations];
		[backView release];
	}
	
	

}
/*
// Only override drawRect: if you perform custom drawing.
// An empty implementation adversely affects performance during animation.
- (void)drawRect:(CGRect)rect {
    // Drawing code.
}
*/

- (void)dealloc {
    [super dealloc];
}


@end

<include file="Public:header"/>
<load href="__PUBLIC__/Css/Ilc/panel.css"/>
<script type="text/javascript">
$(function(){


    var  _panel_one_up = $(".diagram.one.course li");

    // 获取课程(其他)数据
    var courseSum = {$courseSum};

    var courseNum = 0;

    _panel_one_up.each(function(){

        var num = parseInt($(this).find('span cite i').html());

        courseNum += num;

    })

    $(".diagram.one.course li:last").find('span cite i').html(courseSum-courseNum);

    // 课程的动态显示
    _panel_one_up.each(function(){

        var num = parseInt($(this).find('span cite i').html());

        $(this).find('span cite').animate({height: (num / courseSum) * 100 + '%'}, "slow");
    })

    // 资源的动态显示
    var resourceSum = {$resourceSum};
    $(".diagram.one.resource li").each(function(){

        var num = parseInt($(this).find('span cite i').html());

        $(this).find('span cite').animate({height: (num / resourceSum) * 100 + '%'}, "slow");
    })

    // 班级动态显示
    var classSum = {$classSum};

    var  _panel_one_down = $(".ranking.two.class li");
    _panel_one_down.each(function(){
        var num = parseInt($(this).find('label cite').html());
        $(this).find('span i').animate({width: (num / classSum) * 100 + '%'}, "slow");

    })

    // 教师动态显示
    $('.ranking.two.teacher li').each(function(){
        var num = parseInt($(this).find('label cite').html());
        $(this).find('span i').animate({width: num}, "slow");

    })


})
</script>
<div class="warp">
    <include file="Public:left"/>
    <div class="panel fl">
        <div class="panel_box">
            <div class="stat course_stat">
                <div class="stat_box">
                    <p>本校已创建了<notempty name="courseSum">{$courseSum}<else />0</notempty>个课程：</p>
                    <div class="diagram one course">
                        <ul class="oneul">
                            <volist name="courseArr" id="course">
                                <li>
                                    <span class="chinese"><cite><i>{$course.ss_value}</i></cite></span>
                                    <label title="{$course.ss_title}">{$course.ss_title}</label>
                                </li>
                            </volist>
                            <li>
                                <span class="other"><cite><i>0</i></cite></span>
                                <label>其他</label>
                            </li>
                        </ul>
                    </div>
                </div>

                 <div class="stat_box">
                    <p>本校已创建了<notempty name="resourceSum">{$resourceSum}<else />0</notempty>个资源：</p>
                    <div class="diagram one resource">
                        <ul class="oneul">
                            <volist name="resourceArr" id="resource">
                                <li>
                                    <span class="chinese"><cite><i>{$resource.ss_value}</i></cite></span>
                                    <label title="{$resource.ss_title}">{$resource.ss_title}</label>
                                </li>
                            </volist>
                        </ul>
                    </div>

                </div>

                <div class="stat_box">
                    <p>本校已创建<notempty name="classSum">{$classSum}<else />0</notempty>个班级：</p>
                    <div class="ranking two class">
                        <ul>
                            <volist name="classArr" id="class">
                                <li>
                                    <label>{$class.ss_title}</label>
                                    <span class="hd"><i></i></span>
                                    <label class="count">（<cite>{$class.ss_value}</cite>）</label>
                                </li>
                            </volist>
                        </ul>
                    </div>

                    <p>本校已创建了<notempty name="crowdSum">{$crowdSum}<else />0</notempty>个群组：</p>
                    <div class="diagram two">
                        <ul class="twoul">    <!-- jq控制前三名的颜色 -->
                        <volist name="crowdArr" id="crowd">
                            <lt name="key" value="3">
                                <li><span class="serialNum_good">{$key+1}</span>{$crowd.ss_title}</li>
                            <else />
                                <li><span class="serialNum">{$key+1}</span>{$crowd.ss_title}</li>
                            </lt>
                        </volist>
                        </ul>
                    </div>

                </div>

                <div class="stat_box">
                    <p>本校共有教师<notempty name="teacherSum">{$teacherSum}<else />0</notempty>个：</p>
                    <div class="ranking two teacher">
                        <ul>
                            <volist name="teacherArr" id="teacher">
                                <li>
                                    <label>{$teacher.ss_title}</label>
                                    <span class="hd"><i></i></span>
                                    <label class="count">（<cite>{$teacher.ss_persent}</cite>）</label>
                                </li>
                            </volist>
                        </ul>
                    </div>
                    <div class="clear"></div>
                    <p>本校共有学生<notempty name="studentSum">{$studentSum}<else />0</notempty>个：</p>
                    <div class="ranking4">
                        <ul>
                            <volist name="studentArr" id="student">
                                <li><span>{$key}.</span>{$student.ss_title}：<cite>{$student.ss_value}</cite>个豆</li>
                            </volist>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="clear"></div>
</div>
<include file="Public:footer"/>
//
//  SuperBackTable.m
//  ClassRoomTeacher
//
//  Created by apple  on 13-7-3.
//  Copyright (c) 2013年 apple . All rights reserved.
//

#import "SuperBackTable.h"

@implementation SuperBackTable
@synthesize isDisplay;
@synthesize delegate;
@synthesize lrBtn;

- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        // Initialization code
        
        backTable = [[UIImageView alloc] initWithFrame: CGRectMake(0, 0, 770, 748)];
        backTable.image = [UIImage imageNamed:@"n背景.png"];
        backTable.userInteractionEnabled = YES;
        [self addSubview:backTable];
        [backTable release];
        
        imgView = [[UIImageView alloc] initWithFrame: CGRectMake(67, 0, 702, 54)];
        imgView.image = [UIImage imageNamed:@"n头背景.png"];
        [self addSubview:imgView];
        [imgView release];
        
        lblTitle = [[UILabel alloc] initWithFrame:CGRectMake(70, 15, 704, 30)];
        lblTitle.backgroundColor = [UIColor clearColor];
        lblTitle.font = [UIFont boldSystemFontOfSize:20];
        lblTitle.textAlignment = NSTextAlignmentLeft;
        lblTitle.text = @"练习作业一";
        [self addSubview:lblTitle];
        [lblTitle release];
        
        
        
        
        //默认标题2 是学生的名字 ,全部隐藏掉的。
        imgView2 = [[UIImageView alloc] initWithFrame: CGRectMake(67, 220, 702, 54)];
        imgView2.image = [UIImage imageNamed:@"n头背景.png"];
        [self addSubview:imgView2];
        [imgView2 release];
        
        lblTitle2 = [[UILabel alloc] initWithFrame:CGRectMake(70, 220+15, 704, 30)];
        lblTitle2.backgroundColor = [UIColor clearColor];
        lblTitle2.font = [UIFont boldSystemFontOfSize:20];
        lblTitle2.textAlignment = NSTextAlignmentLeft;
        lblTitle2.text = @"学生作业";
        [self addSubview:lblTitle2];
        [lblTitle2 release];
        
        btnPush = [[UIButton alloc]initWithFrame:CGRectMake(400, 10, 100, 35)];
        btnPush.backgroundColor=[UIColor clearColor];
        [btnPush setTitle:@"推送" forState:UIControlStateNormal];
        [btnPush setTitleColor:MYCOLOR forState:UIControlStateNormal];
        [btnPush addTarget:self action:@selector(btnPushAction) forControlEvents:UIControlEventTouchDown];
        [btnPush setBackgroundImage:[UIImage imageNamed:@"推送.png"] forState:UIControlStateNormal];
        [self addSubview:btnPush];
        [btnPush release];
        
        
        
        btnChakan = [[UIButton alloc]initWithFrame:CGRectMake(510, 10, 100, 35)];
        btnChakan.backgroundColor=[UIColor clearColor];
        [btnChakan setTitle:@"查看" forState:UIControlStateNormal];
        [btnChakan setTitleColor:MYCOLOR forState:UIControlStateNormal];
        [btnChakan addTarget:self action:@selector(btnChakanAction) forControlEvents:UIControlEventTouchDown];
        [btnChakan setBackgroundImage:[UIImage imageNamed:@"推送.png"] forState:UIControlStateNormal];
        [self addSubview:btnChakan];
        [btnChakan release];
        
        
        
        
        tongjiBtn=[[UIButton alloc]initWithFrame:CGRectMake(500, 10, 130, 34)];
        tongjiBtn.backgroundColor=[UIColor clearColor];
        [tongjiBtn addTarget:self action:@selector(TongjiBtnAction) forControlEvents:UIControlEventTouchDown];
        [tongjiBtn setImage:[UIImage imageNamed:@"n统计.png"] forState:UIControlStateNormal];
        [self addSubview:tongjiBtn];
        [tongjiBtn release];
        
        UIButton *closeBtn=[[UIButton alloc]initWithFrame:CGRectMake(770-110, 10, 74, 33)];
        closeBtn.backgroundColor=[UIColor clearColor];
        [closeBtn addTarget:self action:@selector(closeBtnAction) forControlEvents:UIControlEventTouchDown];
        [closeBtn setImage:[UIImage imageNamed:@"n关闭.png"] forState:UIControlStateNormal];
        [self addSubview:closeBtn];
        [closeBtn release];	// Do any additional setup after loading the view.
        
        
        lrBtn = [[UIButton alloc] initWithFrame:CGRectMake(28, 285, 32, 32)];
        [lrBtn setImage:[UIImage imageNamed:@"n收起.png"] forState:UIControlStateNormal];
        [lrBtn addTarget:self action:@selector(lrBtnAction:) forControlEvents:UIControlEventTouchUpInside];
        [self addSubview:lrBtn];
        [lrBtn release];
        
        
        

    }
    return self;
}
/*
    
    type分3个类型，
    1.什么都不显示，只有一个关闭按钮
 
    2.一个是练习，作业的推送，查看状态
    3.查看作业状态，子视图tableview位置改变
    4.作业，没有推送，只有查看
 */
-(void)showUI:(int)type{
    
    if (type == 1) {
     
        btnPush.hidden = YES;
        btnChakan.hidden = YES;
        
        tongjiBtn.hidden = YES;
        imgView2.hidden = YES;
        lblTitle2.hidden = YES;
        
        
    }else if(type ==2){
        
        btnPush.hidden = NO;
        btnChakan.hidden = NO;
        
        
        tongjiBtn.hidden = YES;
        imgView2.hidden = YES;
        lblTitle2.hidden = YES;
    }else if(type ==3){
        
        
        btnPush.hidden = YES;
        btnChakan.hidden = YES;
        
        tongjiBtn.hidden = NO;
        imgView2.hidden = NO;
        lblTitle2.hidden = NO;
    }else{
        
        btnPush.hidden = YES;
        btnChakan.hidden = NO;
        
        
        tongjiBtn.hidden = YES;
        imgView2.hidden = YES;
        lblTitle2.hidden = YES;
    }
}

//改变title
-(void)changeTitle:(NSString *)strTitle{
    
    lblTitle.text = strTitle;
}
-(void)changeTitle2:(NSString *)strTitle{
    
    lblTitle2.text = strTitle;
}
//查看
-(void)btnChakanAction{
    
    [delegate chakanWorkContent];
}
//推送
-(void)btnPushAction{
    
    [delegate pushWorkAction];
}
//统计
-(void)TongjiBtnAction{
    
    if (showtongji==NO) {
        [tongjiBtn setImage:[UIImage imageNamed:@"n状态.png"] forState:UIControlStateNormal];
        showtongji = YES;
    }else{
        [tongjiBtn setImage:[UIImage imageNamed:@"n统计.png"] forState:UIControlStateNormal];

        showtongji = NO;
    }
    
    [delegate clickTongji];
}

















//关闭
-(void)closeBtnAction{
    
    
    [UIView animateWithDuration:0.3 animations:^(void){
            
        isDisplay = NO;
        self.frame = CGRectMake(1024, 0, 770, 748);
    }];
    
    
    
}

-(void)lrBtnAction:(UIButton *)btn{
    
    if (isDisplay==NO) {
        
        [UIView animateWithDuration:0.3 animations:^(void){
            
            self.frame = CGRectMake(1024-770, 0, 770, 748);
        }];
        
        
        [btn setImage:[UIImage imageNamed:@"n收起.png"] forState:UIControlStateNormal];

        
        isDisplay = YES;
        
        
    }else{
        
        [UIView animateWithDuration:0.3 animations:^(void){
            
            self.frame = CGRectMake(960, 0, 770, 748);
        }];
        
        [btn setImage:[UIImage imageNamed:@"n展开.png"] forState:UIControlStateNormal];

        
        isDisplay = NO;
        
        
    }
}
-(void)dealloc{
    
    
    [super dealloc];
}
/*
// Only override drawRect: if you perform custom drawing.
// An empty implementation adversely affects performance during animation.
- (void)drawRect:(CGRect)rect
{
    // Drawing code
}
*/

@end

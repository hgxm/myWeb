<include file="Public:header"/>
<load href="__PUBLIC__/Css/Home/load.css"/>
<load href="__PUBLIC__/Css/Home/validator.css,/Public/Js/Home/FormValidator/formValidator-4.1.3.js,/Public/Js/Home/FormValidator/formValidatorRegex.js"/>
<div class="wrap">
    <div class="load_area">
        <div class="load_top">
            <p>登陆大课堂</p>
        </div>
        <form action="" method="post" name="rg_form" id="rg_form">
            <div class="main_left fl">
                <ul class="list_rg">
                    <li class="cf">
                        <label><i>*</i>用户名：</label>
                        <div class="w_r fl un">
                            <input type="text" name="username" value="" id="username">
                            <span class="bubble" id="usernameTip"></span>
                        </div>
                    </li>
                    <li class="cf">
                        <label><i>*</i>密码：</label>
                        <div class="w_r fl pd">
                            <input type="password" name="pwd" value="" id="password">
                            <span class="bubble" id="passwordTip"></span>
                        </div>
                    </li>
                    <li class="cf yzm">
                        <label><i>*</i>验证码：</label>
                        <div class="w_r fl yzm">
                            <input type="text" name="validate" value="" id="verify">
                            <img src="/Public/verify/" class="verifyImg" onclick="fleshVerify();">
                            <span class="bubble" id="verifyTip"></span>
                        </div>
                    </li>
                    <li class="cf remember">
                        <label></label>
                        <div class="w_r fl">
                            <input name="remember" type="checkbox" class="remember fl">
                            <span class="rem_pwd">记住密码</span>
                            <a class="forget_pwd" href="javascript:void(0)">忘记密码?</a>
                        </div>
                    </li>
                    <li class="cf btn">
                        <label>&nbsp;</label>
                        <div class="w_r fl">
                            <a class="login_btn"></a>
                            <a class="reg_link" href="__APPURL__/Tmp/register">没有账号？<i>&nbsp;立即注册&gt;&gt;</i></a>
                        </div>
                    </li>
                </ul>
            </div>
        </form>
        <div class="main_right fl">
            <div class="fgr"></div>
            <div class="ad">
                
            </div>
        </div>
    </div>
</div>

<script>
$(function() {

    $('input[name=username]').focus(function(){
        $('#usernameTip').hide();
    })

    $('input[name=pwd]').focus(function(){
        $('#passwordTip').hide();
    })

    $('input[name=validate]').focus(function(){
        $('#verifyTip').hide();
    })


    // 提交
    $('.login_btn').click(function(){

        var account = $('input[name=username]').val();
        var pwd = $('input[name=pwd]').val();
        var yzm = $('input[name=validate]').val();

        if (account == '' && pwd == '' && yzm == ''){

            $('#usernameTip').show();
            $('#usernameTip').html("请输入用户名");
            $('#passwordTip').show();
            $('#passwordTip').html("请输入密码");
            $('#verifyTip').show();
            $('#verifyTip').html("请输入验证码");
        }

        // 用户名不能为空
        if (account == ''){
            $('#usernameTip').show();
            $('#usernameTip').html("请输入用户名");
            return false;
        } else {
            $('#usernameTip').hide();
        }

        // 密码不能为空
        if (pwd == ''){
            $('#passwordTip').show();
            $('#passwordTip').html("请输入密码");
            return false;
        }else {
            $('#passwordTip').hide();
        }

        // 验证码不能为空
        if (yzm == ''){
            $('#verifyTip').show();
            $('#verifyTip').html("请输入验证码");
            return false;
        }else {
            $('#verifyTip').hide();
        }

        // ajax登录
        $.post("", '', function(json) {

            if (json.status == 0) {
                
            } else {
                window.location.href = '';
            }
        }, 'json')
    })

})

// 重载验证码
function fleshVerify(){
    $(".verifyImg").attr('src', '/Public/verify/'+ Math.random());
}

// 判断回车
function keydown(e){
    var e = e || event;
    if (e.keyCode==13) {
        $('.btn_zc').click();
    }
}
</script>
<include file="Public:footer"/>
//
//  BanshuListCell.m
//  ClassRoomTeacher
//
//  Created by apple  on 13-6-25.
//  Copyright (c) 2013年 apple . All rights reserved.
//

#import "BanshuListCell.h"

@implementation BanshuListCell
@synthesize delegate;
- (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier
{
    self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
    if (self) {
        // Initialization code
        
        backImage = [[UIImageView alloc] initWithFrame:CGRectMake(10, 0, 610, 73)];
        backImage.userInteractionEnabled = YES;
        backImage.layer.borderWidth = 1.0;
        backImage.layer.cornerRadius = 5.0;
        backImage.alpha = 0.3;
        backImage.layer.borderColor = [UIColor grayColor].CGColor;
        backImage.layer.masksToBounds = YES;
        [self addSubview:backImage];
        [backImage release];
        
        imageview = [[UIImageView alloc] initWithFrame:CGRectMake(20, 10, 48, 48)];
        imageview.image = [UIImage imageNamed:@"板书图标.png"];
        [self addSubview:imageview];
        [imageview release];
        
        lblName = [[UILabel alloc] initWithFrame:CGRectMake(80, 20, 300, 30)];
        lblName.text = @"板书名称";
        lblName.textColor = [UIColor colorWithRed:74.0/255 green:74.0/255 blue:74.0/255 alpha:1];
        lblName.backgroundColor = [UIColor clearColor];
        lblName.textAlignment = NSTextAlignmentLeft;
        [self addSubview:lblName];
        [lblName release];
        
        
        for (int i = 0; i<1; i++) {
            CCButton *btn = [[CCButton alloc]initWithFrame:CGRectMake(370+i*90+180, 10, 48,48)];
            [btn setBackgroundImage:[UIImage imageNamed:@"板书载入.png"] forState:UIControlStateNormal];
            [btn addTarget:self action:@selector(handleBanshuAction:) forControlEvents:UIControlEventTouchUpInside];
            btn.tag = i+10;
            [btn setTitleColor:[UIColor colorWithRed:74.0/255 green:74.0/255 blue:74.0/255 alpha:1] forState:UIControlStateNormal];
            [self addSubview:btn];
            [btn release];
        }
    }
    return self;
}
-(void)updateCell:(NSMutableDictionary *)muDict{
    
    lblName.text = [muDict objectForKey:@"cpa_title"];
    ((CCButton *)[self viewWithTag:10]).btnDict = muDict;
    ((CCButton *)[self viewWithTag:11]).btnDict = muDict;
    ((CCButton *)[self viewWithTag:12]).btnDict = muDict;
}
-(void)changeUI:(BOOL)flag{
    if (flag == YES) {
        backImage.frame = CGRectMake(10, 0, 590, 73);
    }
    [self viewWithTag:10].hidden = flag;
    [self viewWithTag:11].hidden = flag;
    [self viewWithTag:12].hidden = flag;

}
-(void)handleBanshuAction:(CCButton *)btn{
    
    if (delegate && [delegate respondsToSelector:@selector(handleBanshu:)]) {
        [delegate handleBanshu:btn];
    }
}
- (void)setSelected:(BOOL)selected animated:(BOOL)animated
{
    [super setSelected:selected animated:animated];

    // Configure the view for the selected state
}

@end

//
//  BaseViewController.m
//  ClassRoomTeacher
//
//  Created by apple  on 13-7-1.
//  Copyright (c) 2013年 apple . All rights reserved.
//

#import "BaseViewController.h"

@interface BaseViewController ()

@end

@implementation BaseViewController

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];
    
    
    stateImage = [[UIImageView alloc]initWithFrame:CGRectMake(0, 0, 1024, 55)];
    stateImage.userInteractionEnabled = YES;
    stateImage.image = [UIImage imageNamed:@"顶栏.png"];
    [self.view addSubview:stateImage];
    [stateImage release];
    
    btnBack = [[UIButton alloc] initWithFrame:CGRectMake(10, 12, 56, 31)];
    [btnBack addTarget:self action:@selector(btnBackAction) forControlEvents:UIControlEventTouchUpInside];
    btnBack.titleLabel.font = [UIFont boldSystemFontOfSize:16];
    [btnBack setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
    [btnBack setBackgroundImage:[UIImage imageNamed:@"返回.png"] forState:UIControlStateNormal];
    [self.view addSubview:btnBack];
    [btnBack release];
    
    infoLabel = [[UILabel alloc] initWithFrame:CGRectMake(95, 12, 800, 30)];
    infoLabel.backgroundColor = [UIColor clearColor];
    infoLabel.font = [UIFont boldSystemFontOfSize:20];
    infoLabel.textAlignment = NSTextAlignmentLeft;
    infoLabel.text = @"欢迎回来!您有5个消息，8个新作业";
    infoLabel.textColor = [UIColor whiteColor];
    [self.view addSubview:infoLabel];
    [infoLabel release];
    
    nameLabel = [[UILabel alloc] initWithFrame:CGRectMake(890, 12, 130, 30)];
    nameLabel.backgroundColor = [UIColor clearColor];
    nameLabel.font = [UIFont boldSystemFontOfSize:20];
    nameLabel.textAlignment = NSTextAlignmentLeft;
    [nameLabel setAdjustsFontSizeToFitWidth:YES];
    nameLabel.textColor = [UIColor whiteColor];
    [self.view addSubview:nameLabel];
    [nameLabel release];
    
    headBackImage = [[ImgDownSelf alloc]initWithFrame:CGRectMake(850, 5, 39, 39)];
    headBackImage.layer.borderColor = [UIColor whiteColor].CGColor;
    headBackImage.layer.borderWidth = 2.0;
    headBackImage.layer.masksToBounds = YES;
    [self.view addSubview:headBackImage];
    [headBackImage release];
    
    NSDictionary *dict=[[NSUserDefaults standardUserDefaults]objectForKey:@"loginInfo"];
    infoLabel.text = @"";
    nameLabel.text = [dict objectForKey:@"auth_name"];
    [headBackImage setImgUrl:[dict objectForKey:@"auth_img"]];
    
    CGSize detailSize = [nameLabel.text sizeWithFont:[UIFont systemFontOfSize:20.0] constrainedToSize:CGSizeMake(MAXFLOAT, 30) lineBreakMode:UILineBreakModeWordWrap];
	nameLabel.frame = CGRectMake(1024-detailSize.width-20, 12, detailSize.width, 30);
    headBackImage.frame = CGRectMake(1024-detailSize.width-20-40, 5, 39, 39);
    // Do any additional setup after loading the view.
}
-(void)btnBackAction{
   
    
    [self.navigationController popViewControllerAnimated:YES];
    
    
}
- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

@end
